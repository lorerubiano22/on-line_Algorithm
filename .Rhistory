set.seed(123)
name<-paste("dummy")
file<-paste(name,".txt",sep="")
res<-readLines(file)
n<-length(res)
l2<-as.numeric(unlist(strsplit(res[1],";")))[-1]
data1<-matrix(0,ncol=3,nrow=l2)
for(j in 1:(l2)){
#lj<-as.numeric(unlist(strsplit(res[j+3]," ")))[-1][-1]
lj<-as.numeric(unlist(strsplit(res[j+3],";")))
lj<-lj[!is.na(lj)]
data1[j,]<-lj[c(1:3)]
}
dists<-getDist(data1[,2:3])
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
routes<-readRoutes(afile)
a<-computeDist(routes,dists)
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
routes<-readRoutes(afile)
dists
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//")
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
routes<-readRoutes(afile)
library(stringr)
library(reshape2)
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//inputs//")
options("scipen"=100, "digits"=4)
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt(sum((ab[i,1:2]-ab[j,1:2])^2))
d[j,i]<-d[i,j]}}
return(d)}
readRoutes<-function(file){
fil<-readLines(file)
long<-length(fil)
lj<-grep(pattern="Nodes", x=fil)
routes<-as.vector(length(lj))
r<-length(lj)
routes<-NULL
for(j in 1:r){
rj<-fil[lj[j]]
ind<-str_locate_all(rj,"Nodes")
routes[j]<-str_sub(rj,ind[[1]][1,1]+9)
}
d<-NULL
for(l in 1:length(routes)){
f<-as.numeric(unlist(strsplit(routes[l],"-")))
r<-seq(0,length=length(f))
for(a in 1:length(f)){
r[a]<-as.numeric(unlist(f[a]))}
d[[l]]<-r}
return(d)}
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt(sum((ab[i,1:2]-ab[j,1:2])^2))
d[j,i]<-d[i,j]}}
return(d)}
computeDist<-function(route,dists){
d<-0
for(i in 1:(length(route)-1)){
d<-d+dists[route[i]+1,route[i+1]+1]}
return (d)}
set.seed(123)
name<-paste("dummy")
file<-paste(name,".txt",sep="")
res<-readLines(file)
n<-length(res)
l2<-as.numeric(unlist(strsplit(res[1],";")))[-1]
data1<-matrix(0,ncol=3,nrow=l2)
for(j in 1:(l2)){
#lj<-as.numeric(unlist(strsplit(res[j+3]," ")))[-1][-1]
lj<-as.numeric(unlist(strsplit(res[j+3],";")))
lj<-lj[!is.na(lj)]
data1[j,]<-lj[c(1:3)]
}
dists<-getDist(data1[,2:3])
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//")
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
routes<-readRoutes(afile)
a<-computeDist(routes,dists)
a
fil<-readLines(afile)
long<-length(fil)
lj<-grep(pattern="Nodes", x=fil)
lj
routes<-as.vector(length(lj))
r<-length(lj)
r
routes<-NULL
routes
length(lj)
fil<-readLines(afile)
routes<-NULL
rj<-fil
ind<-str_locate_all(rj,"Nodes")
routes<-str_sub(rj,ind[[1]][1,1]+9)
routes
ind
routes<-str_sub(rj,ind[[1]][1,1])
routes<-str_sub(rj,ind[[1]][1,1]+2)
ind[[1]]
ind[[1]][1,1]
ind[[1]][1]
ind[[1]][1]+2
ind[[1]]
ind[[1]][1]
ind[[1]][2]
?str_sub
ind[[2]][1]
ind
ind[[22]][1,1]
ind[[22]][1,1]+2
routes<-str_sub(rj,ind[[22]][1,1]+)
routes<-str_sub(rj,ind[[22]][1,1]+8)
routes
rj<-fil
ind<-str_locate_all(rj,"Nodes")
routes<-str_sub(rj,ind[[22]][1,1]+8)
routes
ind[[22]]+8
rj<-fil
ind<-str_locate_all(rj,"Nodes")
routes<-str_sub(rj,ind[[22]]+8)
routes
routes<-str_sub(rj,ind[22][1,1]+8)
routes<-str_sub(rj,ind[22]+8)
ind[[22]]
rj<-fil
rj
rj<-fil[22]
rj
ind<-str_locate_all(rj,"Nodes")
ind
routes<-str_sub(rj,ind[[1]][1,1]+8)
routes
d<-NULL
for(l in 1:length(routes)){
f<-as.numeric(unlist(strsplit(routes[l],"-")))
r<-seq(0,length=length(f))
for(a in 1:length(f)){
r[a]<-as.numeric(unlist(f[a]))}
d[[l]]<-r}
d
library(stringr)
library(reshape2)
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//inputs//")
options("scipen"=100, "digits"=4)
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt(sum((ab[i,1:2]-ab[j,1:2])^2))
d[j,i]<-d[i,j]}}
return(d)}
readRoutes<-function(afile){
fil<-readLines(afile)
routes<-NULL
rj<-fil[22]
ind<-str_locate_all(rj,"Nodes")
route<-str_sub(rj,ind[[1]][1,1]+8)
d<-NULL
for(l in 1:length(routes)){
f<-as.numeric(unlist(strsplit(routes[l],"-")))
r<-seq(0,length=length(f))
for(a in 1:length(f)){
r[a]<-as.numeric(unlist(f[a]))}
d[[l]]<-r}
return(d)}
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt(sum((ab[i,1:2]-ab[j,1:2])^2))
d[j,i]<-d[i,j]}}
return(d)}
computeDist<-function(route,dists){
d<-0
for(i in 1:(length(route)-1)){
d<-d+dists[route[i]+1,route[i+1]+1]}
return (d)}
set.seed(123)
name<-paste("dummy")
file<-paste(name,".txt",sep="")
res<-readLines(file)
n<-length(res)
l2<-as.numeric(unlist(strsplit(res[1],";")))[-1]
data1<-matrix(0,ncol=3,nrow=l2)
for(j in 1:(l2)){
#lj<-as.numeric(unlist(strsplit(res[j+3]," ")))[-1][-1]
lj<-as.numeric(unlist(strsplit(res[j+3],";")))
lj<-lj[!is.na(lj)]
data1[j,]<-lj[c(1:3)]
}
dists<-getDist(data1[,2:3])
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//")
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
routes<-readRoutes(afile)
a<-computeDist(routes,dists)
route
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
route<-readRoutes(afile)
f<-as.numeric(unlist(strsplit(route,"-")))
fil<-readLines(afile)
routes<-NULL
rj<-fil[22]
ind<-str_locate_all(rj,"Nodes")
route<-str_sub(rj,ind[[1]][1,1]+8)
d<-NULL
f<-as.numeric(unlist(strsplit(route,"-")))
r<-seq(0,length=length(f))
d<-NULL
f<-as.numeric(unlist(strsplit(route,"-")))
r<-seq(0,length=length(f))
for(a in 1:length(f)){
r[a]<-as.numeric(unlist(f[a]))}
d<-r
d
readRoutes<-function(afile){
fil<-readLines(afile)
routes<-NULL
rj<-fil[22]
ind<-str_locate_all(rj,"Nodes")
route<-str_sub(rj,ind[[1]][1,1]+8)
d<-NULL
f<-as.numeric(unlist(strsplit(route,"-")))
r<-seq(0,length=length(f))
for(a in 1:length(f)){
r[a]<-as.numeric(unlist(f[a]))}
d<-r
return(d)}
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt(sum((ab[i,1:2]-ab[j,1:2])^2))
d[j,i]<-d[i,j]}}
return(d)}
readRoutes<-function(afile){
fil<-readLines(afile)
routes<-NULL
rj<-fil[22]
ind<-str_locate_all(rj,"Nodes")
route<-str_sub(rj,ind[[1]][1,1]+8)
d<-NULL
f<-as.numeric(unlist(strsplit(route,"-")))
r<-seq(0,length=length(f))
for(a in 1:length(f)){
r[a]<-as.numeric(unlist(f[a]))}
d<-r
return(d)}
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt(sum((ab[i,1:2]-ab[j,1:2])^2))
d[j,i]<-d[i,j]}}
return(d)}
computeDist<-function(route,dists){
d<-0
for(i in 1:(length(route)-1)){
d<-d+dists[route[i]+1,route[i+1]+1]}
return (d)}
dists<-getDist(data1[,2:3])
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//")
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
routes<-readRoutes(afile)
a<-computeDist(routes,dists)
a
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
d[j,i]<-d[i,j]}}
return(d)}
library(stringr)
library(reshape2)
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//inputs//")
options("scipen"=100, "digits"=4)
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
d[j,i]<-d[i,j]}}
return(d)}
readRoutes<-function(afile){
fil<-readLines(afile)
routes<-NULL
rj<-fil[22]
ind<-str_locate_all(rj,"Nodes")
route<-str_sub(rj,ind[[1]][1,1]+8)
d<-NULL
f<-as.numeric(unlist(strsplit(route,"-")))
r<-seq(0,length=length(f))
for(a in 1:length(f)){
r[a]<-as.numeric(unlist(f[a]))}
d<-r
return(d)}
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt(sum((ab[i,1:2]-ab[j,1:2])^2))
d[j,i]<-d[i,j]}}
return(d)}
computeDist<-function(route,dists){
d<-0
for(i in 1:(length(route)-1)){
d<-d+dists[route[i]+1,route[i+1]+1]}
return (d)}
set.seed(123)
name<-paste("dummy")
file<-paste(name,".txt",sep="")
res<-readLines(file)
n<-length(res)
l2<-as.numeric(unlist(strsplit(res[1],";")))[-1]
data1<-matrix(0,ncol=3,nrow=l2)
for(j in 1:(l2)){
#lj<-as.numeric(unlist(strsplit(res[j+3]," ")))[-1][-1]
lj<-as.numeric(unlist(strsplit(res[j+3],";")))
lj<-lj[!is.na(lj)]
data1[j,]<-lj[c(1:3)]
}
dists<-getDist(data1[,2:3])
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//")
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
routes<-readRoutes(afile)
a<-computeDist(routes,dists)
a
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
d[j,i]<-d[i,j]}}
return(d)}
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
d[j,i]<-d[i,j]}}
return(d)}
library(stringr)
library(reshape2)
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//inputs//")
options("scipen"=100, "digits"=4)
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in i:total){
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
d[j,i]<-d[i,j]}}
return(d)}
readRoutes<-function(afile){
fil<-readLines(afile)
routes<-NULL
rj<-fil[22]
ind<-str_locate_all(rj,"Nodes")
route<-str_sub(rj,ind[[1]][1,1]+8)
d<-NULL
f<-as.numeric(unlist(strsplit(route,"-")))
r<-seq(0,length=length(f))
for(a in 1:length(f)){
r[a]<-as.numeric(unlist(f[a]))}
d<-r
return(d)}
computeDist<-function(route,dists){
d<-0
for(i in 1:(length(route)-1)){
d<-d+dists[route[i]+1,route[i+1]+1]}
return (d)}
set.seed(123)
name<-paste("dummy")
file<-paste(name,".txt",sep="")
res<-readLines(file)
n<-length(res)
l2<-as.numeric(unlist(strsplit(res[1],";")))[-1]
data1<-matrix(0,ncol=3,nrow=l2)
for(j in 1:(l2)){
#lj<-as.numeric(unlist(strsplit(res[j+3]," ")))[-1][-1]
lj<-as.numeric(unlist(strsplit(res[j+3],";")))
lj<-lj[!is.na(lj)]
data1[j,]<-lj[c(1:3)]
}
dists<-getDist(data1[,2:3])
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//")
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
routes<-readRoutes(afile)
a<-computeDist(routes,dists)
a
dists
data1
set.seed(123)
name<-paste("dummy")
file<-paste(name,".txt",sep="")
res<-readLines(file)
n<-length(res)
l2<-as.numeric(unlist(strsplit(res[1],";")))[-1]
data1<-matrix(0,ncol=3,nrow=l2)
for(j in 1:(l2)){
#lj<-as.numeric(unlist(strsplit(res[j+3]," ")))[-1][-1]
lj<-as.numeric(unlist(strsplit(res[j+3],";")))
lj<-lj[!is.na(lj)]
data1[j,]<-lj[c(1:3)]
}
etwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//inputs//")
options("scipen"=100, "digits"=4)
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//inputs//")
options("scipen"=100, "digits"=4)
set.seed(123)
name<-paste("dummy")
file<-paste(name,".txt",sep="")
res<-readLines(file)
n<-length(res)
l2<-as.numeric(unlist(strsplit(res[1],";")))[-1]
data1<-matrix(0,ncol=3,nrow=l2)
for(j in 1:(l2)){
#lj<-as.numeric(unlist(strsplit(res[j+3]," ")))[-1][-1]
lj<-as.numeric(unlist(strsplit(res[j+3],";")))
lj<-lj[!is.na(lj)]
data1[j,]<-lj[c(1:3)]
}
data1
ab<-data1
total<-dim(ab)[1]
total
d<-matrix(0,total,total)
getDist<-function(ab){
total<-dim(ab)[1]
d<-matrix(0,total,total)
for(i in 1:total){
for(j in 1:total){
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
d[j,i]<-d[i,j]}}
return(d)}
i<-1
j<-1
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
d
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
j<-2
d
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
d
for(i in 1:total){
for(j in 1:total){
d[i,j]<-sqrt((ab[i,1]-ab[j,1])^2+(ab[i,2]-ab[j,2])^2)
d[j,i]<-d[i,j]}}
dists<-d
route
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//")
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
route<-readRoutes(afile)
readRoutes<-function(afile){
fil<-readLines(afile)
routes<-NULL
rj<-fil[22]
ind<-str_locate_all(rj,"Nodes")
route<-str_sub(rj,ind[[1]][1,1]+8)
d<-NULL
f<-as.numeric(unlist(strsplit(route,"-")))
r<-seq(0,length=length(f))
for(a in 1:length(f)){
r[a]<-as.numeric(unlist(f[a]))}
d<-r
return(d)}
setwd("C://Users//lorena.reyes//Documents//Java_Workspace//test_importance_arcs//")
afile<-"dummy_Event_3_p(disruption)_0.05000000074505806_seed_12314_Euclidean_false_Obj_MS_Output.txt"
route<-readRoutes(afile)
route
d<-0
length(route)
i<-1
d<-d+dists[route[i]+1,route[i+1]+1]
d
j<-2
d<-d+dists[route[i]+1,route[i+1]+1]
d
j<-3
d<-d+dists[route[i]+1,route[i+1]+1]
j<-4
d<-d+dists[route[i]+1,route[i+1]+1]
j<-5
d<-d+dists[route[i]+1,route[i+1]+1]
d
for(i in 1:(length(route)-1)){
d<-d+dists[route[i]+1,route[i+1]+1]
}
d
d<-0
for(i in 1:(length(route)-1)){
d<-d+dists[route[i]+1,route[i+1]+1]
}
d
